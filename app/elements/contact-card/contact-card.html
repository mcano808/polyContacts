<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/core-icons/core-icons.html">
<link rel="import" href="../../bower_components/core-toolbar/core-toolbar.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../contact-status/contact-status.html">
<polymer-element name="contact-card" atttributes="selectedContact">
  <template>
    <link rel="stylesheet" href="contact-card.css">
    <div class="page-wrapper" layout vertical>
      <!-- header section -->
      <div class="header" layout horizontal>
        <div>
          <contact-status radius="42" status="{{currentStatus}}"> </contact-status>
        </div>
        <div flex class="phone-number">
          {{selectedContact.contact.cell}}
        </div>

      </div>
      <!-- Controls-->

      <!--    Repeating section for contacts-->
      <div flex>

      </div>
      <!-- Bottom toolbar section -->
      <div class="bottom-toolbar">
        <core-toolbar class="bottom">
        </core-toolbar>
      </div>
    </div>

  </template>
  <script>
    (function () {
      Polymer({
        // define element prototype here
        publish:{
          selectedContact:{}
        },
        contactNotes:null,
        currentContactNote:0,
        currentStatus:'freezing',
        selectedContactChanged: function(oV, nV){
          console.log('selected contact changed on contact card:', nV);
          //Update the currentStatus.
          this.currentStatus = (this.selectedContact.contacts)? this.selectedContact.contacts[0].status : 'cold';
          //Update notes
          this.contactNotes = (this.selectedContact.contacts)? this.selectedContact.contacts : [];
        },

      });
    })();
  </script>
</polymer-element>
